<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>Document</title>
    </head>
    <body>
        <script>
            function BinaryTree() {
                var Node = function(key) {
                    this.key = key
                    this.left = null
                    this.right = null
                }
                var root = null
                var insertNode = function(node, newNode) {
                    if (newNode.key < node.key) {
                        if (node.left === null) {
                            node.left = newNode
                        } else {
                            insertNode(node.left, newNode)
                        }
                    } else {
                        if (node.right === null) {
                            node.right = newNode
                        } else {
                            insertNode(node.right, newNode)
                        }
                    }
                }
                this.insert = function(key) {
                    var newNode = new Node(key)
                    if (root === null) {
                        root = newNode
                    } else {
                        insertNode(root, newNode)
                    }
                }
                this.inOrderTraverseNode = function(node, callback) {
                    if (node !== null) {
                        this.inOrderTraverseNode(node.left, callback)
                        callback(node.key)
                        this.inOrderTraverseNode(node.right, callback)
                    }
                }
                this.inOrderTraverse = function(callback) {
                    this.inOrderTraverseNode(root, callback)
                }
                this.preOrderTraverseNode = function(node, callback) {
                    if (node !== null) {
                        callback(node.key)
                        this.preOrderTraverseNode(node.left, callback)
                        this.preOrderTraverseNode(node.right, callback)
                    }
                }
                this.preOrderTraverse = function(callback) {
                    this.preOrderTraverseNode(root, callback)
                }
                this.afterOrderTraverseNode = function(node, callback) {
                    if (node !== null) {
                        this.afterOrderTraverseNode(node.left, callback)
                        this.afterOrderTraverseNode(node.right, callback)
                        callback(node.key)
                    }
                }
                this.afterOrderTraverse = function(callback) {
                    this.afterOrderTraverseNode(root, callback)
                }
            }
            var nodes = [8, 3, 10, 1, 6, 14, 4, 7, 13]
            var binaryTree = new BinaryTree()
            nodes.forEach(function(key) {
                binaryTree.insert(key)
            })
            var callback = function(key) {
                console.log(key)
            }

            binaryTree.inOrderTraverse(callback)
            binaryTree.preOrderTraverse(callback)
        </script>
    </body>
</html>
